{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nexport default {\n  name: \"BookDetail\",\n  props: {\n    id: {\n      type: String,\n      required: true\n    }\n  },\n  data() {\n    return {\n      book: null,\n      reviewObj: {\n        comment: \"\",\n        reviewerName: '',\n        reviewRating: 3.5\n      },\n      snackbar: false,\n      snackbarText: \"\"\n    };\n  },\n  async created() {\n    await this.fetchBook();\n    await this.fetchedAllBookReviews();\n  },\n  methods: {\n    async fetchBook() {\n      console.log(\"checkingiddd\", this.id);\n      const gotSingleBook = await axios.get(`http://localhost:5000/books/list/${this.id}`);\n      console.log(\"checkinggotListRes\", gotSingleBook);\n      this.book = gotSingleBook.data;\n    },\n    async addReview() {\n      try {\n        console.log(\"checkingaddreview...\");\n        const gotReviewAddedRes = await axios.post(`http://localhost:5000/books/${this.id}/reviews`, this.reviewObj);\n        console.log(\"checkinggotListRes\", gotReviewAddedRes);\n        if (gotReviewAddedRes) {\n          this.snackbarText = gotReviewAddedRes.data;\n          this.snackbar = true;\n          this.reviewObj = {\n            comment: \"\",\n            reviewerName: '',\n            reviewRating: 3.5\n          };\n        }\n      } catch (err) {\n        console.log(\"checkinerr..\", err);\n        this.snackbarText = err;\n        this.snackbar = true;\n        throw new Error(err);\n      }\n    },\n    goBack() {\n      this.$router.push({\n        name: \"BookList\"\n      });\n    },\n    async fetchedAllBookReviews() {\n      try {\n        console.log(\"checkingparam\");\n        const gotReviewAddedRes = await axios.get(`http://localhost:5000/books/${this.id}/reviews`, this.reviewObj);\n        console.log(\"checkinggotListRes\", gotReviewAddedRes);\n      } catch (err) {\n        console.log(\"checkinerr...\", err);\n        throw new Error(err);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","props","id","type","String","required","data","book","reviewObj","comment","reviewerName","reviewRating","snackbar","snackbarText","created","fetchBook","fetchedAllBookReviews","methods","console","log","gotSingleBook","get","addReview","gotReviewAddedRes","post","err","Error","goBack","$router","push"],"sources":["src/components/bookDetails.vue"],"sourcesContent":["<template>\n  <v-container>\n    <v-card class=\"mt-5\" v-if=\"book\">\n      <v-card-title>{{ book.title }}</v-card-title>\n      <v-card-text>\n        <div>\n          <strong>Author:</strong>\n          {{ book.author }}\n        </div>\n        <div>\n          <strong>Genre:</strong>\n          {{ book.genre }}\n        </div>\n        <div>\n          <strong>Summary:</strong>\n          {{ book.summary }}\n        </div>\n        <v-btn @click=\"goBack\">Back to List</v-btn>\n      </v-card-text>\n    </v-card>\n\n    <v-card class=\"mt-5\">\n      <v-card-title>Add a Review</v-card-title>\n      <v-card-text>\n        <v-text-field\n          v-model=\"reviewObj.reviewerName\"\n          label=\"Your Name\"\n          solo\n          required\n        ></v-text-field>\n        <v-rating\n          v-model=\"reviewObj.reviewRating\"\n          color=\"yellow darken-3\"\n          background-color=\"grey darken-1\"\n          empty-icon=\"$ratingFull\"\n          half-increments\n          hover\n          large\n        ></v-rating>\n        <v-textarea v-model=\"reviewObj.comment\" label=\"Your Review\" solo></v-textarea>\n        <v-btn color=\"primary\" @click=\"addReview\">Submit Review</v-btn>\n      </v-card-text>\n    </v-card>\n\n    <v-card class=\"mt-5\">\n      <v-card-title>Reviews</v-card-title>\n      <v-card-text>\n        <v-list>\n          <v-list-item v-for=\"(review, index) in book.reviews\" :key=\"index\">\n            <v-list-item-content>\n              <v-list-item-title>{{ review }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n        </v-list>\n      </v-card-text>\n    </v-card>\n    <v-snackbar v-model=\"snackbar\">\n      {{ snackbarText }}\n      <template v-slot:action=\"{ attrs }\">\n        <v-btn color=\"pink\" text v-bind=\"attrs\" @click=\"snackbar = false\">Close</v-btn>\n      </template>\n    </v-snackbar>\n  </v-container>\n</template>\n  \n  <script>\nimport axios from \"axios\";\nexport default {\n  name: \"BookDetail\",\n  props: {\n    id: {\n      type: String,\n      required: true\n    }\n  },\n  data() {\n    return {\n      book: null,\n      reviewObj: {\n        comment: \"\",\n        reviewerName: '',\n        reviewRating: 3.5,\n      },\n      snackbar: false,\n      snackbarText: \"\",\n    };\n  },\n  async created() {\n    await this.fetchBook();\n    await this.fetchedAllBookReviews();\n  },\n  methods: {\n    async fetchBook() {\n      console.log(\"checkingiddd\", this.id)\n      const gotSingleBook = await axios.get(\n          `http://localhost:5000/books/list/${this.id}`);\n        console.log(\"checkinggotListRes\", gotSingleBook);\n        this.book = gotSingleBook.data;\n    },\n    async addReview() {\n      try{\n        console.log(\"checkingaddreview...\");\n        const gotReviewAddedRes = await axios.post(\n          `http://localhost:5000/books/${this.id}/reviews`, this.reviewObj);\n        console.log(\"checkinggotListRes\", gotReviewAddedRes);\n        if (gotReviewAddedRes) {\n          this.snackbarText = gotReviewAddedRes.data;\n          this.snackbar = true;\n          this.reviewObj = {\n            comment: \"\",\n            reviewerName: '',\n            reviewRating: 3.5,\n          }\n        }\n      }catch(err){\n        console.log(\"checkinerr..\", err)\n        this.snackbarText = err;\n        this.snackbar = true;\n        throw new Error(err);\n      }\n    },\n    goBack() {\n      this.$router.push({ name: \"BookList\" });\n    },\n    async fetchedAllBookReviews(){\n      try{\n        console.log(\"checkingparam\")\n        const gotReviewAddedRes = await axios.get(\n          `http://localhost:5000/books/${this.id}/reviews`, this.reviewObj);\n        console.log(\"checkinggotListRes\", gotReviewAddedRes);\n      }catch(err){\n        console.log(\"checkinerr...\", err);\n        throw new Error(err);\n      }\n    }    \n  }\n};\n</script>\n  \n  <style scoped>\n.mt-5 {\n  margin-top: 20px;\n}\n</style>\n  "],"mappings":";AAkEA,OAAAA,KAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACAC,EAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;IACA;EACA;EACAC,KAAA;IACA;MACAC,IAAA;MACAC,SAAA;QACAC,OAAA;QACAC,YAAA;QACAC,YAAA;MACA;MACAC,QAAA;MACAC,YAAA;IACA;EACA;EACA,MAAAC,QAAA;IACA,WAAAC,SAAA;IACA,WAAAC,qBAAA;EACA;EACAC,OAAA;IACA,MAAAF,UAAA;MACAG,OAAA,CAAAC,GAAA,sBAAAjB,EAAA;MACA,MAAAkB,aAAA,SAAArB,KAAA,CAAAsB,GAAA,CACA,yCAAAnB,EAAA;MACAgB,OAAA,CAAAC,GAAA,uBAAAC,aAAA;MACA,KAAAb,IAAA,GAAAa,aAAA,CAAAd,IAAA;IACA;IACA,MAAAgB,UAAA;MACA;QACAJ,OAAA,CAAAC,GAAA;QACA,MAAAI,iBAAA,SAAAxB,KAAA,CAAAyB,IAAA,CACA,oCAAAtB,EAAA,iBAAAM,SAAA;QACAU,OAAA,CAAAC,GAAA,uBAAAI,iBAAA;QACA,IAAAA,iBAAA;UACA,KAAAV,YAAA,GAAAU,iBAAA,CAAAjB,IAAA;UACA,KAAAM,QAAA;UACA,KAAAJ,SAAA;YACAC,OAAA;YACAC,YAAA;YACAC,YAAA;UACA;QACA;MACA,SAAAc,GAAA;QACAP,OAAA,CAAAC,GAAA,iBAAAM,GAAA;QACA,KAAAZ,YAAA,GAAAY,GAAA;QACA,KAAAb,QAAA;QACA,UAAAc,KAAA,CAAAD,GAAA;MACA;IACA;IACAE,OAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QAAA7B,IAAA;MAAA;IACA;IACA,MAAAgB,sBAAA;MACA;QACAE,OAAA,CAAAC,GAAA;QACA,MAAAI,iBAAA,SAAAxB,KAAA,CAAAsB,GAAA,CACA,oCAAAnB,EAAA,iBAAAM,SAAA;QACAU,OAAA,CAAAC,GAAA,uBAAAI,iBAAA;MACA,SAAAE,GAAA;QACAP,OAAA,CAAAC,GAAA,kBAAAM,GAAA;QACA,UAAAC,KAAA,CAAAD,GAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}